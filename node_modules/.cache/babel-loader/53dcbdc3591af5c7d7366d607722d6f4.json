{"ast":null,"code":"import { operatorExpression } from './expression';\nimport parseParameters from './parameters';\nimport { isOperator } from './util';\nimport { error } from 'vega-util';\n/**\n * Parse a dataflow operator.\n */\n\nexport default function (spec, ctx) {\n  if (isOperator(spec.type) || !spec.type) {\n    ctx.operator(spec, spec.update ? operatorExpression(spec.update, ctx) : null);\n  } else {\n    ctx.transform(spec, spec.type);\n  }\n}\n/**\n * Parse and assign operator parameters.\n */\n\nexport function parseOperatorParameters(spec, ctx) {\n  if (spec.params) {\n    var op = ctx.get(spec.id);\n    if (!op) error('Invalid operator id: ' + spec.id);\n    ctx.dataflow.connect(op, op.parameters(parseParameters(spec.params, ctx), spec.react, spec.initonly));\n  }\n}","map":null,"metadata":{},"sourceType":"module"}