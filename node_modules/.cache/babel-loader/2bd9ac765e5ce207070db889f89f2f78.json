{"ast":null,"code":"import { changeset, isChangeSet } from 'vega-dataflow';\nimport { error, hasOwnProperty, truthy } from 'vega-util';\nexport function dataref(view, name) {\n  var data = view._runtime.data;\n\n  if (!hasOwnProperty(data, name)) {\n    error('Unrecognized data set: ' + name);\n  }\n\n  return data[name];\n}\nexport function data(name, values) {\n  return arguments.length < 2 ? dataref(this, name).values.value : change.call(this, name, changeset().remove(truthy).insert(values));\n}\nexport function change(name, changes) {\n  if (!isChangeSet(changes)) {\n    error('Second argument to changes must be a changeset.');\n  }\n\n  var dataset = dataref(this, name);\n  dataset.modified = true;\n  return this.pulse(dataset.input, changes);\n}\nexport function insert(name, _) {\n  return change.call(this, name, changeset().insert(_));\n}\nexport function remove(name, _) {\n  return change.call(this, name, changeset().remove(_));\n}","map":null,"metadata":{},"sourceType":"module"}