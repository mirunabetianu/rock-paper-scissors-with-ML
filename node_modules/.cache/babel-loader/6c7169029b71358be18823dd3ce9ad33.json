{"ast":null,"code":"import { stableCompare, Transform } from 'vega-dataflow';\nimport { inherits } from 'vega-util';\n/**\n * Extracts an array of values. Assumes the source data has already been\n * reduced as needed (e.g., by an upstream Aggregate transform).\n * @constructor\n * @param {object} params - The parameters for this operator.\n * @param {function(object): *} params.field - The domain field to extract.\n * @param {function(*,*): number} [params.sort] - An optional\n *   comparator function for sorting the values. The comparator will be\n *   applied to backing tuples prior to value extraction.\n */\n\nexport default function Values(params) {\n  Transform.call(this, null, params);\n}\nvar prototype = inherits(Values, Transform);\n\nprototype.transform = function (_, pulse) {\n  var run = !this.value || _.modified('field') || _.modified('sort') || pulse.changed() || _.sort && pulse.modified(_.sort.fields);\n\n  if (run) {\n    this.value = (_.sort ? pulse.source.slice().sort(stableCompare(_.sort)) : pulse.source).map(_.field);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}