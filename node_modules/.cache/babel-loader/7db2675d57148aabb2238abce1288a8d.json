{"ast":null,"code":"function devicePixelRatio() {\n  return typeof window !== 'undefined' ? window.devicePixelRatio || 1 : 1;\n}\n\nvar pixelRatio = devicePixelRatio();\nexport default function (canvas, width, height, origin, scaleFactor, opt) {\n  var inDOM = typeof HTMLElement !== 'undefined' && canvas instanceof HTMLElement && canvas.parentNode != null;\n  var context = canvas.getContext('2d'),\n      ratio = inDOM ? pixelRatio : scaleFactor,\n      key;\n  canvas.width = width * ratio;\n  canvas.height = height * ratio;\n\n  for (key in opt) {\n    context[key] = opt[key];\n  }\n\n  if (inDOM && ratio !== 1) {\n    canvas.style.width = width + 'px';\n    canvas.style.height = height + 'px';\n  }\n\n  context.pixelRatio = ratio;\n  context.setTransform(ratio, 0, 0, ratio, ratio * origin[0], ratio * origin[1]);\n  return canvas;\n}","map":null,"metadata":{},"sourceType":"module"}