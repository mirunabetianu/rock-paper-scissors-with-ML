{"ast":null,"code":"import { Top, Left, Bottom, Value, zero, one } from './constants';\nimport guideMark from './guide-mark';\nimport { lookup } from './guide-util';\nimport { RuleMark } from '../marks/marktypes';\nimport { AxisTickRole } from '../marks/roles';\nimport { addEncoders, encoder } from '../encode/encode-util';\nexport default function (spec, config, userEncode, dataRef, size, band) {\n  var _ = lookup(spec, config),\n      orient = spec.orient,\n      sign = orient === Left || orient === Top ? -1 : 1,\n      encode,\n      enter,\n      exit,\n      update,\n      tickSize,\n      tickPos;\n\n  encode = {\n    enter: enter = {\n      opacity: zero\n    },\n    update: update = {\n      opacity: one\n    },\n    exit: exit = {\n      opacity: zero\n    }\n  };\n  addEncoders(encode, {\n    stroke: _('tickColor'),\n    strokeDash: _('tickDash'),\n    strokeDashOffset: _('tickDashOffset'),\n    strokeOpacity: _('tickOpacity'),\n    strokeWidth: _('tickWidth')\n  });\n  tickSize = encoder(size);\n  tickSize.mult = sign;\n  tickPos = {\n    scale: spec.scale,\n    field: Value,\n    band: band.band,\n    extra: band.extra,\n    offset: band.offset,\n    round: _('tickRound')\n  };\n\n  if (orient === Top || orient === Bottom) {\n    update.y = enter.y = zero;\n    update.y2 = enter.y2 = tickSize;\n    update.x = enter.x = exit.x = tickPos;\n  } else {\n    update.x = enter.x = zero;\n    update.x2 = enter.x2 = tickSize;\n    update.y = enter.y = exit.y = tickPos;\n  }\n\n  return guideMark(RuleMark, AxisTickRole, null, Value, dataRef, encode, userEncode);\n}","map":null,"metadata":{},"sourceType":"module"}