{"ast":null,"code":"import color from './color';\nimport field from './field';\nimport scale from './scale';\nimport gradient from './gradient';\nimport property from './property';\nimport expression from './expression';\nimport { stringValue } from 'vega-util';\nexport default function (channel, enc, scope, params, fields) {\n  if (enc.gradient != null) {\n    return gradient(enc, scope, params, fields);\n  }\n\n  var value = enc.signal ? expression(enc.signal, scope, params, fields) : enc.color ? color(enc.color, scope, params, fields) : enc.field != null ? field(enc.field, scope, params, fields) : enc.value !== undefined ? stringValue(enc.value) : undefined;\n\n  if (enc.scale != null) {\n    value = scale(enc, value, scope, params, fields);\n  }\n\n  if (value === undefined) {\n    value = null;\n  }\n\n  if (enc.exponent != null) {\n    value = 'Math.pow(' + value + ',' + property(enc.exponent, scope, params, fields) + ')';\n  }\n\n  if (enc.mult != null) {\n    value += '*' + property(enc.mult, scope, params, fields);\n  }\n\n  if (enc.offset != null) {\n    value += '+' + property(enc.offset, scope, params, fields);\n  }\n\n  if (enc.round) {\n    value = 'Math.round(' + value + ')';\n  }\n\n  return value;\n}","map":null,"metadata":{},"sourceType":"module"}