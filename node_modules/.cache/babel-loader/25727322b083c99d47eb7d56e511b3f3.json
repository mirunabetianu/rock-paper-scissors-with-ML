{"ast":null,"code":"import _slicedToArray from \"/Users/mirunabetianu/WebstormProjects/rps/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { Bounds, intersect } from 'vega-scenegraph';\nimport { array } from 'vega-util';\nexport default function (b, opt, group) {\n  if (!b) return [];\n\n  var _b = _slicedToArray(b, 2),\n      u = _b[0],\n      v = _b[1],\n      box = new Bounds().set(u[0], u[1], v[0], v[1]),\n      scene = group || this.context.dataflow.scenegraph().root;\n\n  return intersect(scene, box, filter(opt));\n}\n\nfunction filter(opt) {\n  var p = null;\n\n  if (opt) {\n    var types = array(opt.marktype),\n        names = array(opt.markname);\n\n    p = function p(_) {\n      return (!types.length || types.some(function (t) {\n        return _.marktype === t;\n      })) && (!names.length || names.some(function (s) {\n        return _.name === s;\n      }));\n    };\n  }\n\n  return p;\n}","map":null,"metadata":{},"sourceType":"module"}