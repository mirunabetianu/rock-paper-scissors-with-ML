{"ast":null,"code":"import ols from './ols';\nimport { visitPoints } from './points';\nimport rSquared from './r-squared';\nexport default function (data, x, y) {\n  var Y = 0,\n      YL = 0,\n      XY = 0,\n      XYL = 0,\n      X2Y = 0,\n      n = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var ly = Math.log(dy),\n        xy = dx * dy;\n    ++n;\n    Y += (dy - Y) / n;\n    XY += (xy - XY) / n;\n    X2Y += (dx * xy - X2Y) / n;\n    YL += (dy * ly - YL) / n;\n    XYL += (xy * ly - XYL) / n;\n  });\n\n  var coef = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n      predict = function predict(x) {\n    return coef[0] * Math.exp(coef[1] * x);\n  };\n\n  coef[0] = Math.exp(coef[0]);\n  return {\n    coef: coef,\n    predict: predict,\n    rSquared: rSquared(data, x, y, Y, predict)\n  };\n}","map":null,"metadata":{},"sourceType":"module"}