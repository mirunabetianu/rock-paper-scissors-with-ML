{"ast":null,"code":"import { isString } from 'vega-util';\nvar Default = 'default';\nexport default function (view) {\n  var cursor = view._signals.cursor; // add cursor signal to dataflow, if needed\n\n  if (!cursor) {\n    view._signals.cursor = cursor = view.add({\n      user: Default,\n      item: null\n    });\n  } // evaluate cursor on each mousemove event\n\n\n  view.on(view.events('view', 'mousemove'), cursor, function (_, event) {\n    var value = cursor.value,\n        user = value ? isString(value) ? value : value.user : Default,\n        item = event.item && event.item.cursor || null;\n    return value && user === value.user && item == value.item ? value : {\n      user: user,\n      item: item\n    };\n  }); // when cursor signal updates, set visible cursor\n\n  view.add(null, function (_) {\n    var user = _.cursor,\n        item = this.value;\n\n    if (!isString(user)) {\n      item = user.item;\n      user = user.user;\n    }\n\n    setCursor(user && user !== Default ? user : item || user);\n    return item;\n  }, {\n    cursor: cursor\n  });\n}\n\nfunction setCursor(cursor) {\n  // set cursor on document body\n  // this ensures cursor applies even if dragging out of view\n  if (typeof document !== 'undefined' && document.body) {\n    document.body.style.cursor = cursor;\n  }\n}","map":null,"metadata":{},"sourceType":"module"}